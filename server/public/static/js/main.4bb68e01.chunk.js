(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,a){e.exports=a(24)},18:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(6),o=a.n(l),r=(a(18),a(3)),i=a(2),c=a.n(i),h=a(7),u=a(8),m=a(11),d=a(9),p=a(1),E=a(12);a(5);var b=function(e){return s.a.createElement("main",null,s.a.createElement("section",{className:"section"},s.a.createElement("div",{className:"container"},s.a.createElement("section",{class:"section",id:"title-section"},s.a.createElement("h1",{class:"title has-text-centered"}," Shrinkly ")),s.a.createElement("section",{className:"section"},s.a.createElement("form",null,s.a.createElement("section",{class:"section"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"columns is-mobile is-gapless"},s.a.createElement("div",{class:"column is-9"},s.a.createElement("input",{class:"input is-primary is-medium is-small-mobile",type:"text",name:"longURL",placeholder:"Enter a URL to shrink",value:e.data.longURL,onChange:e.handleChange}),s.a.createElement("nav",{class:"level is-mobile"},s.a.createElement("div",{class:"level-left"},s.a.createElement("label",{class:"checkbox"},s.a.createElement("input",{type:"checkbox",name:"useCustomShortURL",onChange:e.handleChange,checked:e.data.useCustomShortURL})," ","Custom URL")),s.a.createElement("div",{class:"level-right"},s.a.createElement("label",{class:"checkbox"},"Preview","  ",s.a.createElement("input",{type:"checkbox",name:"usePreview",onChange:e.handleChange,checked:e.data.usePreview}))))),s.a.createElement("div",{class:"column is-3"},s.a.createElement("button",{className:"button is-primary is-medium is-fullwidth",type:"button",onClick:e.handleSubmit},s.a.createElement("p",{class:"is-size-6-mobile"},"Shrink!"))))),s.a.createElement("br",null),s.a.createElement("div",{class:"field has-addons"},s.a.createElement("p",{class:"control"},s.a.createElement("span",{class:"button is-small is-static",style:{display:!e.data.useCustomShortURL&&"none"}},"https://localhost:3000/"),s.a.createElement("br",null)),s.a.createElement("p",{class:"control is-fullwidth is-expanded"},s.a.createElement("input",{class:"input is-small is-expanded is-fullwidth",type:"text",name:"customShortURL",placeholder:"<insert custom URL>",value:e.data.customShortURL,onChange:e.handleChange,style:{display:!e.data.useCustomShortURL&&"none"}}))),s.a.createElement("div",{class:"notification",id:"custom-url-notification",style:{display:!e.data.useCustomShortURL&&"none"}},s.a.createElement("p",null,"Your custom URL must have a length between 4 to 20, inclusive, and contain at least 4 alphanumeric characters (a-z, A-Z, 0-9)."),s.a.createElement("p",null," ","Example:"," ",s.a.createElement("a",{href:"https://localhost:3000/helloworld"},"https://localhost:3000/helloworld"))),s.a.createElement("div",{class:"notification",id:"preview-notification",style:{display:!e.data.usePreview&&"none"}},s.a.createElement("p",null,"Users will be re-directed to an intermediary landing page that displays the designated long URL. This gives users peace of mind as they can verify the URL before continuing."),s.a.createElement("p",null," ","Example:"," ",s.a.createElement("a",{href:"https://localhost:3000/preview/helloworld"},"https://localhost:3000/preview/helloworld")))))))),s.a.createElement("footer",{class:"footer content has-text-centered"},s.a.createElement("p",null,"Made with"," ",s.a.createElement("span",{role:"img","aria-label":"coffee"},"\u2615")),s.a.createElement("p",null,"See the source code on",s.a.createElement("a",{href:"https://github.com/matthuynh/url-shortener"}," ","GitHub"))))},v=a(10);var g=function(e){var t=e.data.shortURL?"Your short URL is "+e.data.shortURL:e.data.resultErrorMessage;return s.a.createElement("main",null,s.a.createElement("section",{class:"section"},s.a.createElement("div",{class:"container has-text-centered is-desktop",id:"result-main"},s.a.createElement("div",{class:"notification "+(e.data.shortURL?"is-primary":"is-warning")},s.a.createElement("p",{class:"content is-medium"}," ",t," ")),s.a.createElement("form",null,s.a.createElement("div",{class:"buttons are-medium is-centered"},s.a.createElement(v.CopyToClipboard,{text:e.data.shortURL},s.a.createElement("button",{class:"button",type:"button",style:{display:!e.data.shortURL&&"none"},onClick:e.handleClickCopy},"Copy to clipboard")),s.a.createElement("button",{class:"button is-primary is-outlined",type:"button",onClick:e.handleReturnToHome},"Go back"))),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("p",{class:"content",style:{display:!e.data.hasCopiedToClipboard&&"none"}},"Successfully copied to clipboard!")))),s.a.createElement("footer",{class:"footer content has-text-centered"},s.a.createElement("p",null,"Made with"," ",s.a.createElement("span",{role:"img","aria-label":"coffee"},"\u2615")),s.a.createElement("p",null,"See the source code on",s.a.createElement("a",{href:"https://github.com/matthuynh/url-shortener"}," ","GitHub"))))},y=(a(23),function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).getShortURL=function(){var t,a;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(fetch("/api/url/shorten/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({longURL:e.state.longURL,useCustomShortURL:e.state.useCustomShortURL,customShortURL:e.state.customShortURL,usePreview:e.state.usePreview})}));case 3:t=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:return n.next=11,c.a.awrap(t.json());case 11:a=n.sent,console.log(a),200===t.status?e.setState({shortURL:a.shortUrl}):1001===a.errorCode?e.setState({resultErrorMessage:"Your custom short URL '"+e.state.customShortURL+"' is in an invalid format. Try another short URL."}):1002===a.errorCode?e.setState({resultErrorMessage:"Your custom short URL already exists. Try another short URL."}):1004===a.errorCode?e.setState({resultErrorMessage:"You entered in an invalid long URL. Try another long URL."}):e.setState({resultErrorMessage:"Internal Server Error. Something is wrong on our end. Sorry! "});case 14:case"end":return n.stop()}}),null,null,[[0,6]])},e.state={longURL:"",shortURL:"",submitted:!1,usePreview:!1,useCustomShortURL:!1,customShortURL:"",resultErrorMessage:"",hasCopiedToClipboard:!1},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(p.a)(e)),e.handleReturnToHome=e.handleReturnToHome.bind(Object(p.a)(e)),e.handleClickCopy=e.handleClickCopy.bind(Object(p.a)(e)),e}return Object(E.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){"checkbox"===e.target.type?this.setState(Object(r.a)({},e.target.name,e.target.checked)):this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){console.log("Pressed 'Submit' button"),this.setState({submitted:!0}),this.getShortURL()}},{key:"handleReturnToHome",value:function(){this.setState({longURL:"",shortURL:"",submitted:!1,usePreview:!1,useCustomShortURL:!1,customShortURL:"",resultErrorMessage:"",hasCopiedToClipboard:!1})}},{key:"handleClickCopy",value:function(){this.setState({hasCopiedToClipboard:!0})}},{key:"render",value:function(){return this.state.submitted?s.a.createElement("div",{class:"bigDiv"},s.a.createElement(g,{data:this.state,handleReturnToHome:this.handleReturnToHome,handleClickCopy:this.handleClickCopy})):s.a.createElement("div",{class:"bigDiv"},s.a.createElement(b,{handleChange:this.handleChange,data:this.state,handleSubmit:this.handleSubmit}))}}]),t}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[13,1,2]]]);
//# sourceMappingURL=main.4bb68e01.chunk.js.map